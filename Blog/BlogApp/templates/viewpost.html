

{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="container mx-auto max-w-4xl p-8 bg-white shadow-lg rounded-lg mt-12">
    <!-- Post Title and Meta Info -->
    <h1 class="text-5xl font-extrabold text-gray-800 mb-6">{{ post.title }}</h1>
    <p class="text-gray-500 italic mb-6 text-lg">By <span class="font-semibold">{{ post.author.username }}</span> on {{ post.created_at|date:"F j, Y" }}</p>
    
    <!-- Post Content -->
    <div class="prose lg:prose-xl mb-8 text-gray-700">
        {{ post.content|linebreaks }}
    </div>
    
    <!-- Post Image (if exists) -->
    {% if post.image %}
        <div class="mb-8 text-center">
            <img src="{{ post.image.url }}" alt="{{ post.title }}" class="rounded-lg shadow-md hover:shadow-lg transition duration-300 ease-in-out w-full max-w-3xl mx-auto">
        </div>
    {% endif %}
    
    <!-- Video Embed (if exists) -->
    {% if post.video_url %}
        <div class="mb-8 text-center">
            <iframe width="800" height="450" src="{{ post.video_url }}" frameborder="0" allowfullscreen class="rounded-lg shadow-md hover:shadow-lg transition duration-300 ease-in-out"></iframe>
        </div>
    {% endif %}
    
    <!-- Edit Post Button (if author) -->
    {% if post.author == request.user %}
        <div class="mb-4 text-center">
            <a href="{% url 'update_post' post.id %}" class="bg-yellow-500 text-white py-2 px-4 rounded hover:bg-yellow-600">Edit Post</a>
            <a href="{% url 'delete_post' post.id %}" 
            class="bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 ml-4" 
            onclick="return confirm('Are you sure you want to delete this post?');">
            Delete Post
         </a>
        </div>
    {% endif %}
    
    <!-- Back to Posts Button -->
    <div class="text-center">
        <a href="{% url 'home' %}" 
           class="bg-blue-500 text-white py-3 px-6 rounded-lg shadow-lg hover:bg-blue-600 transition duration-300 ease-in-out inline-block">
           Back to Posts
        </a>
    </div>
</div>
{% endblock %}
