{% extends 'base.html' %}
{% load static %}
{% block title %}Edit Profile{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto p-8 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-lg shadow-xl text-white mt-10">
    <h2 class="text-3xl font-bold mb-6 text-center">Edit Profile</h2>

    <form method="POST" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}
        
        <!-- Profile Picture Upload -->
        <div class="mb-6">
            <label for="profile_pic" class="block text-lg font-medium text-gray-100">Profile Picture</label>
            <div class="mt-4 flex items-center">
                {% if user.profile.profile_pic %}
                    <img src="{{ user.profile.profile_pic.url }}" alt="Current Profile Picture" class="w-32 h-32 rounded-full border-4 border-white shadow-lg mr-4">
                {% else %}
                    <img src="{% static 'images/default_avatar.png' %}" alt="Default Avatar" class="w-32 h-32 rounded-full border-4 border-white shadow-lg mr-4">
                {% endif %}
                <input type="file" name="profile_pic" id="profile_pic" class="mt-2 block w-full text-white border-2 border-white rounded-lg p-2 bg-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-300 hover:bg-gray-700 transition duration-200">
            </div>
        </div>

        <!-- Username Field -->
        <div class="mb-6">
            <label for="username" class="block text-lg font-medium text-gray-100">Username</label>
            <input type="text" name="username" id="username" value="{{ user.username }}" class="block w-full mt-2 p-3 rounded-lg bg-gray-800 border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-indigo-300 placeholder-gray-400">
        </div>

        <!-- Email Field -->
        <div class="mb-6">
            <label for="email" class="block text-lg font-medium text-gray-100">Email</label>
            <input type="email" name="email" id="email" value="{{ user.email }}" class="block w-full mt-2 p-3 rounded-lg bg-gray-800 border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-indigo-300 placeholder-gray-400">
        </div>

        <!-- Bio Field -->
        <div class="mb-6">
            <label for="bio" class="block text-lg font-medium text-gray-100">Bio</label>
            <textarea name="bio" id="bio" rows="4" class="block w-full mt-2 p-3 rounded-lg bg-gray-800 border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-indigo-300 placeholder-gray-400">{{ user.profile.bio }}</textarea>
        </div>

        <!-- Location Field -->
        <div class="mb-6">
            <label for="location" class="block text-lg font-medium text-gray-100">Location</label>
            <input type="text" name="location" id="location" value="{{ user.profile.location }}" class="block w-full mt-2 p-3 rounded-lg bg-gray-800 border border-gray-300 text-white focus:outline-none focus:ring-2 focus:ring-indigo-300 placeholder-gray-400">
        </div>

        <!-- Update Button -->
        <div>
            <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold py-3 px-4 rounded-full shadow-lg transform hover:scale-105 transition-transform duration-200">
                Update Profile
            </button>
        </div>
    </form>

    <div class="mt-6 text-center">
        <a href="{% url 'home' %}" class="text-white hover:text-gray-200 underline">Back to Home</a>
    </div>
</div>
{% endblock %}
